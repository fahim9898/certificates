import{r as p,c as i,F as u,j as e,L as T}from"./vendor.436bddb5.js";import{T as a,u as g,B as H,a as c,d as l}from"./index.039e5ba8.js";import{C as m}from"./Card.50e90fed.js";const D=()=>{p.exports.useEffect(()=>{a.search.clear(),a.search.push([{id:"#remaing-day-min",type:"text",placeholder:"Min Remaing Days"},{id:"#remaing-day-max",type:"text",placeholder:"Max Remaing Days"}],"input-search","minmax",9),a.search.push([{id:"#date-start-min",type:"date",placeholder:"Min Start Date"},{id:"#date-start-max",type:"date",placeholder:"Max Start Date"}],"input-date","date-minmax",7),a.search.push([{id:"#date-end-min",type:"date",placeholder:"Min End Date"},{id:"#date-end-max",type:"date",placeholder:"Max End Date"}],"input-date","date-minmax",8)},[]);const{data:n,setData:h,loadingDone:o}=g({method:"get",url:l},"branches");function s(d,t){window.api({method:"post",url:l,data:{branch_id:d.id,is_active:t}}).then(r=>{window.Notify({status:"success",message:r.data.message}),a.fn.updateTableWithId(n,{...d,is_active:t},h,"id")}).catch(r=>{window.Notify({status:"error",message:window.handleError(r)})})}return i(u,{children:[e(H,{title:"Branches",links:[{name:"Home",link:"/super-admin/"},{name:"Branches",link:"/super-admin/branches"}]}),e(m,{title:"Branches",children:i(a,{loadingDone:o,footerSelect:!0,filter:!0,children:[e(a.Header,{children:i(a.Row,{children:[e(a.TH,{children:"Id"}),e(a.TH,{children:"Name"}),e(a.TH,{children:"Logo"}),e(a.TH,{children:"Address"}),e(a.TH,{children:"City"}),e(a.TH,{children:"State"}),e(a.TH,{children:"Phone"}),e(a.TH,{children:"Start Date"}),e(a.TH,{children:"End Date"}),e(a.TH,{children:"Remaining Days"}),e(a.TH,{children:"Status"}),e(a.TH,{children:"Actions"})]})}),e(a.Body,{children:n&&n.map((d,t)=>i(a.Row,{children:[e(a.TH,{children:d.id}),e(a.TH,{children:d.branch_name}),e(a.TH,{children:e("a",{href:c(d.branch_logo),"data-fancybox":"images",children:e("img",{className:"table-img",src:c(d.branch_logo),alt:""})})}),e(a.TH,{children:d.branch_address}),e(a.TH,{children:d.city}),e(a.TH,{children:d.state}),e(a.TH,{children:d.phone}),e(a.TH,{children:d.start_date}),e(a.TH,{children:d.end_date}),e(a.TH,{children:d.remaining_days}),e(a.TH,{children:d.is_active?e("span",{className:"cursor-pointer badge badge-success",onClick:()=>s(d,!1),children:"Active"}):e("span",{className:"cursor-pointer badge badge-danger",onClick:()=>s(d,!0),children:"In Active"})}),e(a.TH,{children:e(T,{to:"/super-admin/branches/"+d.id,children:i("span",{className:"badge badge-info",children:[e("i",{className:"feather icon-eye"})," View"]})})})]},d.id))})]})})]})};export{D as default};
