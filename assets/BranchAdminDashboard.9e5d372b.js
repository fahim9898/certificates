import{r as h,c as a,j as e,L as i,i as o}from"./vendor.436bddb5.js";import{u as w,b as k,w as v,x as p,g as l,y as A}from"./index.72f35460.js";const R=()=>{const[u,x]=h.exports.useState(!1),[N,b]=h.exports.useState([]),[g,f]=h.exports.useState([]),{data:s,setData:S,loadingDone:D,isLoading:B}=w({method:"get",url:A}),{isLoading:T,callback:m}=k();function _(c){m({url:p+"/"+c.id,method:"patch",success:r=>{let t=r.data.attendance;window.Notify({message:r.data.message,status:"success"});let n=g.map(d=>d.id==c.id?t:d);f(n)}})}function y(c){m({url:v+"/"+c.id,method:"patch",success:r=>{let t=r.data.attendance;window.Notify({message:r.data.message,status:"success"});let n=N.map(d=>d.id==c.id?t:d);b(n)}})}return h.exports.useEffect(()=>{m({method:"get",url:v,success:c=>(b(c.data?.attendances),!0)}),m({method:"get",url:p,success:c=>(f(c.data?.attendances),!0)})},[u]),h.exports.useEffect(()=>{setInterval(()=>{x(!u)},1e3*60)},[]),a("div",{children:[e("div",{className:"row grouped-multiple-statistics-card",children:e("div",{className:"col-12",children:e("div",{className:"card",children:e("div",{className:"card-body",children:a("div",{className:"row",children:[e("div",{className:"col-lg-6 col-xl-2 col-sm-6 col-12",children:e(i,{to:"#",children:a("div",{className:"\r d-flex\r align-items-start\r mb-sm-1 mb-xl-0\r border-right-blue-grey border-right-lighten-5\r ",children:[e("span",{className:"danger card-icon primary d-flex justify-content-center mr-1",children:e("i",{className:"icon p-1 icon-user-follow customize-icon font-large-2 p-1"})}),e("div",{className:"danger stats-amount mr-1 mt-5px w-100",children:a("div",{className:"flex-coloumn-center",children:[e("h3",{className:"heading-text text-bold-600",children:l(()=>s.total_branch_admins)}),e("p",{className:"sub-heading text-center",children:"Admin"})]})}),e("span",{className:"inc-dec-percentage"})]})})}),e("div",{className:"col-lg-6 col-xl-5 col-sm-6 col-12",children:e(i,{to:"/branch-admin/staff-attendance",children:a("div",{className:"\r d-flex\r align-items-start\r mb-sm-1 mb-xl-0\r border-right-blue-grey border-right-lighten-5\r ",children:[e("span",{className:"card-icon danger d-flex justify-content-center mr-2",children:e("i",{className:"\r primary\r feather\r p-1\r icon-user-plus\r customize-icon\r font-large-2\r p-1\r "})}),e("div",{className:"stats-amount mr-1 w-100",children:a("div",{className:"flex-space-between mt-5px",children:[a("div",{className:"flex-coloumn-center",children:[e("h3",{className:"heading-text text-bold-600",children:l(()=>s.total_staff)}),e("p",{className:"sub-heading text-center",children:"Staff"})]}),a("div",{className:"flex-coloumn-center",children:[e("h3",{className:"heading-text text-bold-600",children:l(()=>s.active_staff_member)}),e("p",{className:"sub-heading text-center",children:"Available Staff"})]}),a("div",{className:"flex-coloumn-center",children:[a("h3",{className:"heading-text text-bold-600",children:[l(()=>s.total_percentage_of_staff_present.toFixed(1))," ","%"]}),e("p",{className:"sub-heading text-center",children:"Percentage"})]})]})}),e("span",{className:"inc-dec-percentage"})]})})}),e("div",{className:"col-lg-6 col-xl-5 col-sm-6 col-12",children:e(i,{to:"/branch-admin/member-attendance",children:a("div",{className:"\r d-flex\r align-items-start\r mb-sm-1 mb-xl-0\r border-right-blue-grey border-right-lighten-5\r ",children:[e("span",{className:"card-icon secondary d-flex justify-content-center mr-2",children:e("i",{className:"\r icon\r p-1\r icon-users\r customize-icon\r font-large-2\r p-1\r "})}),e("div",{className:"stats-amount secondary mr-1 w-100",children:a("div",{className:"flex-space-between mt-5px",children:[a("div",{className:"flex-coloumn-center",children:[e("h3",{className:"heading-text text-bold-600",children:l(()=>s.total_members)}),e("p",{className:"sub-heading text-center",children:"Member"})]}),a("div",{className:"flex-coloumn-center",children:[e("h3",{className:"heading-text text-bold-600",children:l(()=>s.active_member)}),e("p",{className:"sub-heading text-center",children:"Available Member"})]}),a("div",{className:"flex-coloumn-center",children:[a("h3",{className:"heading-text text-bold-600",children:[l(()=>s.total_percentage_of_member_present.toFixed(1))," ","%"]}),e("p",{className:"sub-heading text-center",children:"Percentage"})]})]})}),e("span",{className:"inc-dec-percentage"})]})})})]})})})})}),a("div",{className:"row grouped-multiple-statistics-card",children:[e("div",{className:"col-xl-8 col-lg-12 col-md-12",children:a("div",{className:"row",children:[e("div",{className:"col-xl-6 col-lg-6 col-12",children:e("div",{className:"card",children:e("div",{className:"card-content",children:a("div",{className:"media align-items-stretch",children:[e("div",{className:"p-2 text-center bg-primary bg-darken-2",children:e("i",{className:"fa fa-cube font-large-2 white"})}),e("div",{className:"p-2 bg-gradient-x-primary white media-body",children:a(i,{to:"/branch-admin/sas-plans",style:{color:"white"},children:[e("h5",{children:"Sas Plan"}),a("h5",{className:"text-bold-400 mb-0",children:[e("i",{className:"feather icon-chevron-right"}),a("span",{style:{fontSize:"14px"},children:[l(()=>s.branches.sas_plan.plan_name)," ","expires in"," ",l(()=>s.branches.remaining_days)," days"]})]})]})})]})})})}),e("div",{className:"col-xl-6 col-lg-6 col-12",children:e("div",{className:"card",children:e("div",{className:"card-content",children:a("div",{className:"media align-items-stretch",children:[e("div",{className:"p-2 text-center bg-danger bg-darken-2",children:e("i",{className:"feather icon-clock font-large-2 white"})}),e("div",{className:"p-2 bg-gradient-x-danger white media-body",children:a(i,{to:"/branch-admin/members",style:{color:"white"},children:[e("h5",{children:"Member Expires in 5 Days"}),a("h5",{className:"text-bold-400 mb-0",children:[e("i",{className:"feather icon-chevron-right"}),l(()=>s.total_members_expire_in_5_days)]})]})})]})})})}),e("div",{className:"col-xl-6 col-lg-12",children:e("div",{className:"card overflow-hidden",children:e("div",{className:"card-content",children:a("div",{className:"media align-items-stretch",children:[e("div",{className:"bg-primary p-2 media-middle",children:e("i",{className:"icon-graph font-large-2 white"})}),e("div",{className:"media-body p-2",children:a(i,{to:"/branch-admin/stock-purchases",style:{color:"inherit"},children:[e("h4",{children:"Purchases"}),e("span",{children:l(()=>s.total_purchase)})]})}),e("div",{className:"media-right p-2 media-middle",children:a("h1",{className:"primary",children:[l(()=>s.total_purchase_amount)," \u20B9"]})})]})})})}),e("div",{className:"col-xl-6 col-lg-12",children:e("div",{className:"card overflow-hidden",children:e("div",{className:"card-content",children:a("div",{className:"media align-items-stretch",children:[e("div",{className:"bg-primary p-2 media-middle",children:e("i",{className:"fa fa-inr font-large-2 white"})}),e("div",{className:"media-body p-2",children:a(i,{to:"/branch-admin/expenses",style:{color:"inherit"},children:[e("h4",{children:"Expenses"}),e("span",{children:l(()=>s.total_expense)})]})}),e("div",{className:"media-right p-2 media-middle",children:a("h1",{className:"primary",children:[l(()=>s.total_expense_amount)," \u20B9"]})})]})})})})]})}),e("div",{className:"col-xl-4 col-lg-12 col-md-12",children:a("div",{className:"row",children:[e("div",{className:"d-none col-xl-12 col-lg-12 col-12",children:e("div",{className:"card",children:e("div",{className:"card-content",children:a("div",{className:"media align-items-stretch",children:[e("div",{className:"p-2 text-center bg-success bg-darken-2",children:e("i",{className:"fa fa-inr font-large-2 white"})}),e("div",{className:"p-2 bg-gradient-x-success white media-body",children:a(i,{to:"/super-admin/sas-transactions",style:{color:"white"},children:[e("h5",{children:"Total Revenue"}),a("h5",{className:"text-bold-400 mb-0",children:[e("i",{className:"feather icon-chevron-right"}),l(()=>s.total_revenue)," \u20B9"]})]})})]})})})}),e("div",{className:"col-xl-12 col-lg-12 col-12",children:e("div",{className:"card ",children:e("div",{className:"card-content",children:a("div",{className:"media align-items-stretch",children:[e("div",{className:"p-2 text-center bg-warning bg-darken-2",children:e("i",{className:"fa fa-codepen font-large-2 white"})}),e("div",{className:"p-2 bg-gradient-x-warning white media-body",children:a(i,{to:"/branch-admin/member-plans",style:{color:"white"},children:[e("h5",{children:"Packages"}),a("h5",{className:"text-bold-400 mb-0",children:[e("i",{className:"feather icon-chevron-right"}),l(()=>s.total_packages)]})]})})]})})})}),e("div",{className:"col-xl-12 col-lg-12 col-12",children:e("div",{className:"card",children:e("div",{className:"card-content",children:a("div",{className:"media align-items-stretch",children:[e("div",{className:"p-2 text-center bg-danger bg-darken-2",children:e("i",{className:"fa fa-file-text-o font-large-2 white"})}),e("div",{className:"p-2 bg-gradient-x-danger white media-body",children:a(i,{to:"/branch-admin/groups",style:{color:"white"},children:[e("h5",{children:"Branch Groups"}),a("h5",{className:"text-bold-400 mb-0",children:[e("i",{className:"feather icon-chevron-right"}),l(()=>s.total_groups)]})]})})]})})})})]})})]}),a("div",{className:"row grouped-multiple-statistics-card",children:[e("div",{className:"col-md-6",children:a("div",{className:"card",children:[a("div",{className:"card-header",children:[e("h4",{className:"card-title text-left",children:"Recent Sales"}),e("a",{className:"heading-elements-toggle",children:e("i",{className:"fa fa-ellipsis-v font-medium-3"})})]}),e("div",{className:"card-content",children:e("div",{className:"table-responsive",children:a("table",{id:"recent-orders",className:"table table-hover mb-0 ps-container ps-theme-default",children:[e("thead",{children:a("tr",{children:[e("th",{children:"Id"}),e("th",{children:"Item"}),e("th",{children:"Qty"}),e("th",{children:"Amount"}),e("th",{children:"Date"})]})}),e("tbody",{children:l(()=>[...s.branches.sale].reverse().map((c,r)=>{if(!(r>4))return a("tr",{children:[e("td",{className:"text-truncate",children:l(()=>r+1)}),e("td",{className:"text-truncate",children:e(i,{to:"/branch-admin/stock-sales/",children:"Item"})}),e("td",{className:"text-truncate",children:l(()=>c.qty)}),a("td",{className:"text-truncate",children:[l(()=>c.amount)," \u20B9"]}),e("td",{className:"text-truncate",children:l(()=>new Date(c.created_at).toIndiaDate())})]},c.id)}))})]})})})]})}),e("div",{className:"col-md-6",children:a("div",{className:"card",children:[a("div",{className:"card-header",children:[e("h4",{className:"card-title text-left",children:"Recent Purchases"}),e("a",{className:"heading-elements-toggle",children:e("i",{className:"fa fa-ellipsis-v font-medium-3"})})]}),e("div",{className:"card-content",children:e("div",{className:"table-responsive",children:a("table",{id:"recent-orders",className:"table table-hover mb-0 ps-container ps-theme-default",children:[e("thead",{children:a("tr",{children:[e("th",{children:"Id"}),e("th",{children:"Item"}),e("th",{children:"Qty"}),e("th",{children:"Amount"}),e("th",{children:"Date"})]})}),e("tbody",{children:l(()=>[...s.branches.purchase].reverse().map((c,r)=>{if(!(r>4))return a("tr",{children:[e("td",{className:"text-truncate",children:l(()=>r+1)}),e("td",{className:"text-truncate",children:e(i,{to:"/branch-admin/stock-purchases/",children:"Item"})}),e("td",{className:"text-truncate",children:l(()=>c.qty)}),a("td",{className:"text-truncate",children:[l(()=>c.amount)," \u20B9"]}),e("td",{className:"text-truncate",children:l(()=>new Date(c.created_at).toIndiaDate())})]},c.id)}))})]})})})]})})]}),e("div",{className:"row grouped-multiple-statistics-card",children:e("div",{className:"col-12",children:e("div",{className:"card",children:e("div",{className:"card-body",children:a("div",{className:"row",children:[e("div",{className:"col-lg-6 col-xl-3 col-sm-6 col-12",children:a("div",{className:"d-flex align-items-start mb-sm-1 mb-xl-0 border-right-blue-grey border-right-lighten-5",children:[e("span",{className:"card-icon primary d-flex justify-content-center mr-3",children:e("i",{className:"icon p-1 icon-bar-chart customize-icon font-large-2 p-1"})}),e("div",{className:"stats-amount mr-3",children:a(i,{to:"/branch-admin/stock-sales",style:{color:"inherit"},children:[a("h3",{className:"heading-text text-bold-600",children:[l(()=>s.total_revenue_sales)," \u20B9"]}),e("p",{className:"sub-heading",children:"Sales Revenue"})]})})]})}),e("div",{className:"col-lg-6 col-xl-3 col-sm-6 col-12",children:a("div",{className:"d-flex align-items-start mb-sm-1 mb-xl-0 border-right-blue-grey border-right-lighten-5",children:[e("span",{className:"card-icon danger d-flex justify-content-center mr-3",children:e("i",{className:"icon p-1 icon-graph customize-icon font-large-2 p-1"})}),e("div",{className:"stats-amount mr-3",children:a(i,{to:"/branch-admin/members-transactions",style:{color:"inherit"},children:[a("h3",{className:"heading-text text-bold-600",children:[l(()=>s.total_revenue_membership)," ","\u20B9"]}),e("p",{className:"sub-heading",children:"Membership Revenue"})]})})]})}),e("div",{className:"col-lg-6 col-xl-3 col-sm-6 col-12",children:a("div",{className:"d-flex align-items-start border-right-blue-grey border-right-lighten-5",children:[e("span",{className:"card-icon success d-flex justify-content-center mr-3",children:e("i",{className:"p-1 fa fa-inr customize-icon font-large-2 p-1"})}),a("div",{className:"stats-amount mr-3",children:[a("h3",{className:"heading-text text-bold-600",children:[l(()=>s.total_revenue)," \u20B9"]}),e("p",{className:"sub-heading",children:"Total Revenue"})]})]})}),e("div",{className:"col-lg-6 col-xl-3 col-sm-6 col-12",children:a("div",{className:"d-flex align-items-start",children:[e("span",{className:"card-icon warning d-flex justify-content-center mr-3",children:e("i",{className:"icon p-1 icon-user-following customize-icon font-large-2 p-1"})}),e("div",{className:"stats-amount mr-3",children:a(i,{to:"/branch-admin/staff-salary",children:[a("h3",{className:"heading-text text-bold-600",children:[l(()=>s.total_staff_salary_amount)," ","\u20B9"]}),e("p",{className:"sub-heading",children:"Staff Sallary"})]})})]})})]})})})})}),a("div",{className:"row grouped-multiple-statistics-card",children:[e("div",{className:"col-md-6",children:a("div",{className:"card",id:"member-attendance-table",children:[e("div",{className:"card-header",children:e("h3",{children:"Available Member"})}),a("table",{className:"table",children:[e("thead",{children:a("tr",{children:[e("th",{children:"Name"}),e("th",{children:"Login"}),e("th",{children:"Logout"}),e("th",{children:"Group Time Over"}),e("th",{children:"Status"})]})}),e("tbody",{children:g&&g.filter(c=>c.checkin_time&&!c.checkout_time).map((c,r)=>a("tr",{children:[e("td",{children:l(()=>c.member.member_name)}),e("td",{children:l(()=>c.checkin_time)}),e("td",{children:l(()=>c.checkout_time?c.checkout_time:e("div",{className:"badge badge-danger cursor-pointer",onClick:()=>_(c),children:"Logout"}))}),e("td",{className:"text-center",children:l(()=>{let t=o(c.checkin_time,"HH:mm:ss");return o(new Date,"HH:mm:ss").diff(t,"hours")>=c.member.member_group.group_timmings_hours?e("i",{className:"fa fa-check"}):e("i",{className:"fa fa-times"})})}),e("td",{children:l(()=>c.checkin_time?"Present":"Absent")})]},c.id))})]})]})}),e("div",{className:"col-md-6",children:a("div",{className:"card",id:"member-attendance-table",children:[e("div",{className:"card-header",children:e("h3",{children:"Available Staff"})}),a("table",{className:"table",children:[e("thead",{children:a("tr",{children:[e("th",{children:"Name"}),e("th",{children:"Login"}),e("th",{children:"Logout"}),e("th",{children:"Shift Time Over"}),e("th",{children:"Status"})]})}),e("tbody",{children:N&&N.filter(c=>c.checkin_time&&!c.checkout_time).map((c,r)=>a("tr",{children:[e("td",{children:l(()=>c.staff_user.staff_name)}),e("td",{children:l(()=>c.checkin_time)}),e("td",{children:l(()=>c.checkout_time?c.checkout_time:e("div",{className:"badge badge-danger cursor-pointer",onClick:()=>y(c),children:"Logout"}))}),e("td",{className:"text-center",children:l(()=>{let t=o(c.checkin_time,"HH:mm:ss");return o(new Date,"HH:mm:ss").diff(t,"hours")>=c.staff_user.working_hours?e("i",{className:"fa fa-check"}):e("i",{className:"fa fa-times"})})}),e("td",{children:l(()=>c.checkin_time?"Present":"Absent")})]},c.id))})]})]})})]})]})};export{R as default};
