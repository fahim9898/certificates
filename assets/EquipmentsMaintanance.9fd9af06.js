var T=Object.defineProperty;var o=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var m=(i,t,n)=>t in i?T(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n,l=(i,t)=>{for(var n in t||(t={}))f.call(t,n)&&m(i,n,t[n]);if(o)for(var n of o(t))H.call(t,n)&&m(i,n,t[n]);return i};import{r as x,b as s,F as N,j as a}from"./vendor.abe5e19c.js";import{b as k,u as C,T as e,B as _,g as c,N as h}from"./index.945cac23.js";import{C as A}from"./Card.0a56d7c5.js";const L=()=>{const{isLoading:i,callback:t}=k(),{data:n,setData:u,loadingDone:b}=C({method:"get",url:h},"equipments_to_maintains_to_maintain");x.exports.useEffect(()=>(e.search.clear(),e.search.push([{id:"#date-min",type:"date",placeholder:"Start Date"},{id:"#date-max",type:"date",placeholder:"End Date"}],"input-date","date-minmax",3),()=>{e.search.clear()}),[]);function p(d){t({method:"patch",url:h+"/"+d.id,data:{},success:r=>{window.Notify({status:"success",message:r.data.message});let g=l(l({},d),r.data.equipments_to_maintain);e.fn.updateTableWithId(n,g,u,"id")},error:r=>{window.$(`#${modalObj.modalId}`).modal("hide")}})}return s(N,{children:[a(_,{title:"Maintenance",links:[{name:"Home",link:"/branch-admin"},{name:"Equipments",link:"/branch-admin/equipments"},{name:"Maintenance",link:"/branch-admin/maintenance"}]}),a(A,{title:"Maintenance",children:s(e,{tableId:".table-brand-staff",loadingDone:b,footerSelect:!0,filter:!0,children:[a(e.Header,{children:s(e.Row,{children:[a(e.TH,{children:"Id"}),a(e.TH,{children:"Equipment"}),a(e.TH,{children:"Status"}),a(e.TH,{children:"Date"}),a(e.TH,{children:"Actions"})]})}),a(e.Body,{children:n&&n.map((d,r)=>s(e.Row,{children:[a(e.TH,{children:c(()=>d.id)}),a(e.TH,{children:c(()=>d.equipment.particular)}),a(e.TH,{children:d.status?a("span",{className:"badge badge-success",children:"Complete"}):a("span",{className:"badge badge-danger",children:"Pending"})}),a(e.TH,{children:c(()=>new Date(d.created_at).toLocaleDateString())}),a(e.TH,{children:c(()=>d.status==0)&&s("span",{className:"cursor-pointer badge badge-info",onClick:()=>p(d),children:[a("i",{className:"feather icon-check-circle"})," Complete"]})})]},d.id))})]})})]})};export{L as default};
