var g=Object.defineProperty,S=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var p=(s,t,l)=>t in s?g(s,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[t]=l,r=(s,t)=>{for(var l in t||(t={}))x.call(t,l)&&p(s,l,t[l]);if(b)for(var l of b(t))C.call(t,l)&&p(s,l,t[l]);return s},n=(s,t)=>S(s,y(t));import{d as q,r as _,b as o,F as A,j as e}from"./vendor.abe5e19c.js";import{u as I,b as L,B as T,J as j,K as w}from"./index.945cac23.js";import{C as B}from"./Card.0a56d7c5.js";import{F as D,I as c}from"./InputLable.a582803e.js";const Q=()=>{const s="Purchase Stock",t=[{name:"Home",link:"/branch-admin"},{name:"Stocks",link:"/branch-admin/stocks"},{name:"Purchase Stock",link:"/branch-admin/stock-add"}];let l=q();const{data:m,setData:F,loadingDone:P}=I({method:"get",url:j},"stocks"),{isLoading:v,callback:k}=L(),[i,d]=_.exports.useState({branch_stock_id:"",qty:"",purchase_type:"",note:""}),f=function(){let a=new FormData;for(var u in i)a.append(u,i[u]);let h=document.getElementById("bill-file");h.files.length&&(console.log("Files Uplod"),a.append("bill",h.files[0])),k({method:"post",url:w,data:a,success:N=>{window.Notify({message:N.data.message,status:"success"}),l.push("/branch-admin/stock-purchases")}})};return o(A,{children:[e(T,{title:s,links:t}),e(D,{id:"form-stock-plan-validation",onSubmit:a=>{a.preventDefault(),window.formValidate("form-stock-plan-validation")(f)},children:o("div",{className:"row",children:[e("div",{className:"col-md-8",children:o(B,{title:"Stock Information",iconLeft:"fa fa-th-large",children:[o(c.LabelSelect,{value:i.branch_stock_id,required:!0,label:"Stock Item",onChange:a=>d(n(r({},i),{branch_stock_id:a.target.value})),invalidText:"Need to select Stock",children:[e("option",{value:"",children:"Select Stock Item"}),m&&m.map(a=>e("option",{value:a.id,children:a.particular},a.id))]}),o("div",{className:"row",children:[e("div",{className:"col-md-6",children:e(c.LabelInput,{className:"form-control",type:"text",required:!0,pattern:"\\d+",value:i.qty,onChange:a=>d(n(r({},i),{qty:a.target.value})),label:"Stock Qty",invalidText:"Stock Qty is required & valid"})}),e("div",{className:"col-md-6",children:o(c.LabelSelect,{value:i.purchase_type,required:!0,label:"Purchase Type",onChange:a=>d(n(r({},i),{purchase_type:a.target.value})),invalidText:"Need to select purchase type",children:[e("option",{value:"",children:"Select Pyament Type"}),e("option",{value:"Cash",children:"Cash"}),e("option",{value:"Check",children:"Check"}),e("option",{value:"Other",children:"Other"})]})}),e("div",{className:"col-md-6",children:e(c.LabelInput,{className:"form-control",type:"text",required:!0,value:i.note,onChange:a=>d(n(r({},i),{note:a.target.value})),label:"Stock Note",invalidText:"Stock Note is required"})}),e("div",{className:"col-md-6",children:e(c.LabelInput,{className:"file form-control",type:"file",accept:"",required:!0,label:"Bill",id:"bill-file",invalidText:"Bill is required"})})]})]})}),e("div",{className:"col-md-4"}),e("div",{className:"col-md-2",children:v?o("div",{className:"mb-4 btn btn-primary btn-lg btn-block",children:[e("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xA0 Loading..."]}):o("button",{type:"submit",className:"mb-4 btn btn-primary btn-lg btn-block",children:[e("i",{className:"feather icon-plus"})," Add To Stock"]})})]})})]})};export{Q as default};
