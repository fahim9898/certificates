import{q as h,r as m,b as d,F as u,j as e}from"./vendor.61ffbfff.js";import{n as T,u as b,T as r,B as p,g as n}from"./index.720694af.js";import{C as f}from"./Card.a57d113a.js";const j=()=>{let c=h(),s=T+(c.id?"/"+c.id:"");const{data:i,setData:H,loadingDone:o}=b({method:"get",url:s},t=>c.id?[t.data?.branches]:t.data?.branches);return m.exports.useEffect(()=>(r.search.clear(),r.search.push([{id:"#date-min",type:"date",placeholder:"Start Date"},{id:"#date-max",type:"date",placeholder:"End Date"}],"input-date","date-minmax",6),()=>{r.search.clear()}),[]),d(u,{children:[e(p,{title:"Stocks",links:[{name:"Home",link:"/gym-admin"},{name:"Stocks",link:"/gym-admin/stocks"}]}),e(f,{title:"Stocks",children:d(r,{tableId:".table-brand-staff",loadingDone:o,footerSelect:!0,filter:!0,footer:[{index:3,text:""},{index:4,text:"\u20B9"},{index:6,text:"\u20B9"}],children:[e(r.Header,{children:d(r.Row,{children:[e(r.TH,{children:"Id"}),e(r.TH,{children:"Branch"}),e(r.TH,{children:"Item"}),e(r.TH,{children:"Qty"}),e(r.TH,{children:"Cost Price"}),e(r.TH,{children:"Selling Price"}),e(r.TH,{children:"Amount"}),e(r.TH,{children:"Date"})]})}),e(r.Body,{children:i&&i.map(t=>t.stocks.map((a,l)=>d(r.Row,{children:[e(r.TH,{children:n(()=>a.id)}),e(r.TH,{children:n(()=>t.branch_name)}),e(r.TH,{children:n(()=>a.particular)}),e(r.TH,{children:n(()=>a.qty)}),e(r.TH,{children:n(()=>a.rate)}),e(r.TH,{children:n(()=>a.amount)}),e(r.TH,{children:n(()=>a.qty*a.rate)}),e(r.TH,{children:n(()=>new Date(a.created_at).toLocaleDateString())})]},a.id)))}),e(r.Footer,{children:d("tr",{children:[e("th",{colSpan:3,className:"text-right",children:"Total"}),e("th",{children:n(()=>i.reduce((t,a)=>(a.stocks.map(l=>{t=Number(l.qty)+t}),t),0))}),e("th",{colSpan:1}),e("th",{colSpan:1}),e("th",{colSpan:1}),e("td",{colSpan:1})]})})]})})]})};export{j as default};
