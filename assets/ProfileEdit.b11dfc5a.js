import{e as C,d as j,r as n,b as i,F as A,j as a}from"./vendor.abe5e19c.js";import{b as E,B as k,a as D,s as F,y as T}from"./index.6b6b7103.js";import{C as h}from"./Card.0a56d7c5.js";import{F as q,I as o}from"./InputLable.a582803e.js";const w=t=>{var m,u,p,b;const s="Profile Edit",g=[{name:"Home",link:"/branch-admin"},{name:"Profile Edit",link:"/branch-admin/profile-edit"}];j();const{isLoading:v,callback:N}=E(),[l,P]=n.exports.useState((m=t.currentUser)==null?void 0:m.name),[c,x]=n.exports.useState((u=t.currentUser)==null?void 0:u.email),[d,y]=n.exports.useState((p=t.currentUser)==null?void 0:p.phone),[I,R]=n.exports.useState((b=t.currentUser)==null?void 0:b.profile_pic),L=function(e){var r=document.getElementById("profile-image");r.src=URL.createObjectURL(event.target.files[0])},U=function(){let e=new FormData;e.append("name",l),e.append("email",c),e.append("phone",d);let r=document.getElementById("profile-file-image");r.files.length&&(console.log("Files Uplod"),e.append("profile_pic",r.files[0])),N({method:"post",url:T,data:e,headers:{"Content-Type":"multipart/form-data"},success:f=>{window.Notify({message:f.data.message,status:"success"}),t.setUser(f.data.branch_admin)}}),console.log("Add Member")};return i(A,{children:[a(k,{title:s,links:g}),a(q,{id:"form-user-validation",onSubmit:e=>{e.preventDefault(),window.formValidate("form-user-validation")(U)},children:i("div",{className:"row",children:[a("div",{className:"col-md-8",children:i(h,{loadingDone:!0,title:"Personal Information",iconLeft:"feather icon-user",children:[a(o.LabelInput,{className:"form-control",type:"text",required:!0,value:l,onChange:e=>P(e.target.value),label:"Name",invalidText:"Name is required"}),a(o.LabelInput,{className:"form-control",type:"tel",pattern:"[0-9]{10,}",required:!0,value:d,onChange:e=>y(e.target.value),label:"Phone Number",invalidText:"Phone is required & Valid phone number"}),a(o.LabelInput,{className:"form-control",type:"email",required:!0,value:c,onChange:e=>x(e.target.value),label:"Email",invalidText:"Email is required & Valid email"})]})}),a("div",{className:"col-md-3",children:i(h,{title:"Profile Photo",children:[a("img",{id:"profile-image",src:D(I),alt:"",style:{width:"100%",height:"140px",objectFit:"contain"}}),a("label",{htmlFor:"profile-file-image",className:"btn btn-info position-absolute-right-top",children:a("i",{className:"feather icon-camera"})}),a(o.LabelInput,{className:"d-none",type:"file",accept:"image/*",id:"profile-file-image",onChange:e=>L(),invalidText:"Profile photo is required"})]})}),a("div",{className:"col-md-2",children:v?i("div",{className:"mb-4 btn btn-primary btn-lg btn-block",children:[a("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xA0 Loading..."]}):i("button",{type:"submit",className:"mb-4 btn btn-primary btn-lg btn-block",children:[a("i",{className:"feather icon-user"})," Update Profile"]})})]})})]})},S=t=>({isLoggedIn:t.user.isLoggedIn,currentUser:t.user.currentUser,loading:t.user.userLoading}),B=t=>({setUser:s=>t(F(s))});var O=C(S,B)(w);export{O as default};
