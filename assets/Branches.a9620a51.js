var H=Object.defineProperty,m=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var o=(n,i,t)=>i in n?H(n,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[i]=t,p=(n,i)=>{for(var t in i||(i={}))y.call(i,t)&&o(n,t,i[t]);if(h)for(var t of h(i))f.call(i,t)&&o(n,t,i[t]);return n},u=(n,i)=>m(n,x(i));import{r as b,b as r,F as w,j as e,L as D}from"./vendor.abe5e19c.js";import{T as a,u as _,B as N,a as T,d as g}from"./index.945cac23.js";import{C as k}from"./Card.0a56d7c5.js";const E=()=>{b.exports.useEffect(()=>{a.search.clear(),a.search.push([{id:"#remaing-day-min",type:"text",placeholder:"Min Remaing Days"},{id:"#remaing-day-max",type:"text",placeholder:"Max Remaing Days"}],"input-search","minmax",9),a.search.push([{id:"#date-start-min",type:"date",placeholder:"Min Start Date"},{id:"#date-start-max",type:"date",placeholder:"Max Start Date"}],"input-date","date-minmax",7),a.search.push([{id:"#date-end-min",type:"date",placeholder:"Min End Date"},{id:"#date-end-max",type:"date",placeholder:"Max End Date"}],"input-date","date-minmax",8)},[]);const{data:n,setData:i,loadingDone:t}=_({method:"get",url:g},"branches");function l(d,s){window.api({method:"post",url:g,data:{branch_id:d.id,is_active:s}}).then(c=>{window.Notify({status:"success",message:c.data.message}),a.fn.updateTableWithId(n,u(p({},d),{is_active:s}),i,"id")}).catch(c=>{window.Notify({status:"error",message:window.handleError(c)})})}return r(w,{children:[e(N,{title:"Branches",links:[{name:"Home",link:"/super-admin/"},{name:"Branches",link:"/super-admin/branches"}]}),e(k,{title:"Branches",children:r(a,{loadingDone:t,footerSelect:!0,filter:!0,children:[e(a.Header,{children:r(a.Row,{children:[e(a.TH,{children:"Id"}),e(a.TH,{children:"Name"}),e(a.TH,{children:"Logo"}),e(a.TH,{children:"Address"}),e(a.TH,{children:"City"}),e(a.TH,{children:"State"}),e(a.TH,{children:"Phone"}),e(a.TH,{children:"Start Date"}),e(a.TH,{children:"End Date"}),e(a.TH,{children:"Remaining Days"}),e(a.TH,{children:"Status"}),e(a.TH,{children:"Actions"})]})}),e(a.Body,{children:n&&n.map((d,s)=>r(a.Row,{children:[e(a.TH,{children:d.id}),e(a.TH,{children:d.branch_name}),e(a.TH,{children:e("a",{href:T(d.branch_logo),"data-fancybox":"images",children:e("img",{className:"table-img",src:T(d.branch_logo),alt:""})})}),e(a.TH,{children:d.branch_address}),e(a.TH,{children:d.city}),e(a.TH,{children:d.state}),e(a.TH,{children:d.phone}),e(a.TH,{children:d.start_date}),e(a.TH,{children:d.end_date}),e(a.TH,{children:d.remaining_days}),e(a.TH,{children:d.is_active?e("span",{className:"cursor-pointer badge badge-success",onClick:()=>l(d,!1),children:"Active"}):e("span",{className:"cursor-pointer badge badge-danger",onClick:()=>l(d,!0),children:"In Active"})}),e(a.TH,{children:e(D,{to:"/super-admin/branches/"+d.id,children:r("span",{className:"badge badge-info",children:[e("i",{className:"feather icon-eye"})," View"]})})})]},d.id))})]})})]})};export{E as default};
