import{r as d,b as c,F as o,j as e}from"./vendor.abe5e19c.js";import{u as h,b as m,T as t,B as u,g as r,a as l,K as b}from"./index.945cac23.js";import{C as T}from"./Card.0a56d7c5.js";const k=()=>{d.exports.useState({formId:"print-form-edit",modalId:"print-modal-edit",title:"Print Bill"});const{data:i,setData:H,loadingDone:s}=h({method:"get",url:b},"purchases");return m(),d.exports.useEffect(()=>(t.search.clear(),t.search.push([{id:"#date-min",type:"date",placeholder:"Start Date"},{id:"#date-max",type:"date",placeholder:"End Date"}],"input-date","date-minmax",8),()=>{t.search.clear()}),[]),d.exports.useState({particular:"",qty:"",rate:"",amount:""}),c(o,{children:[e(u,{title:"Purchases",links:[{name:"Home",link:"/branch-admin"},{name:"Purchases",link:"/branch-admin/stock-purchases"}]}),e(T,{title:"Purchases",button:{name:"Purchase Stock",link:"/branch-admin/stock-purchase-add"},children:c(t,{tableId:".table-brand-staff",loadingDone:s,footerSelect:!0,filter:!0,footer:[{index:2,text:""},{index:3,text:"\u20B9"},{index:4,text:"\u20B9"}],children:[e(t.Header,{children:c(t.Row,{children:[e(t.TH,{children:"Id"}),e(t.TH,{children:"Item"}),e(t.TH,{children:"Qty"}),e(t.TH,{children:"Cost Price"}),e(t.TH,{children:"Amount"}),e(t.TH,{children:"Bill"}),e(t.TH,{children:"Note"}),e(t.TH,{children:"Purchase By"}),e(t.TH,{children:"Date"})]})}),e(t.Body,{children:i&&i.map((a,n)=>c(t.Row,{children:[e(t.TH,{children:r(()=>a.id)}),e(t.TH,{children:r(()=>a.stock_item.particular)}),e(t.TH,{children:r(()=>a.qty)}),e(t.TH,{children:r(()=>a.amount)}),e(t.TH,{children:r(()=>a.amount*a.qty)}),e(t.TH,{children:e("a",{href:l(a.bill),"data-fancybox":"images",children:e("img",{className:"table-img",src:l(a.bill),alt:""})})}),e(t.TH,{children:r(()=>a.purchase_transaction.note)}),e(t.TH,{children:r(()=>a.purchase_transaction.purchased_by.name)}),e(t.TH,{children:r(()=>new Date(a.created_at).toLocaleDateString())})]},a.id))}),e(t.Footer,{children:c("tr",{children:[e("th",{colSpan:2,className:"text-right",children:"Total"}),e("th",{children:r(()=>i.reduce((a,n)=>Number(n.qty)+a,0))}),e("th",{children:r(()=>i.reduce((a,n)=>Number(n.amount)+a,0)+" \u20B9")}),e("th",{children:r(()=>i.reduce((a,n)=>Number(n.amount)*Number(n.qty)+a,0)+" \u20B9")}),e("th",{colSpan:1}),e("th",{colSpan:1}),e("th",{colSpan:1}),e("th",{colSpan:1})]})})]})})]})};export{k as default};
