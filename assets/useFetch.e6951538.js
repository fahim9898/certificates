import{r as s,a as x}from"./vendor.07a30449.js";import{R as m}from"./index.855c6d75.js";const k=(d,a)=>{const{onComplete:u=c=>{},success:i=c=>{},error:g=c=>{},...l}=d,[w,o]=s.exports.useState(null),[f,n]=s.exports.useState(!1),[p,r]=s.exports.useState(!0);return s.exports.useEffect(function(){let c=x.CancelToken.source();return n(!1),r(!0),window.api(l).then(e=>{if(m(e),u(e),i(e),a)if(typeof a=="function")o(a(e));else if(typeof a=="string")o(e.data[a]);else throw{response:{data:{message:"Please select responsekey as funciton or string"}}};else o(e.data);n(!0),r(!1)}).catch(e=>{window.Notify({status:"error",message:window.handleError(e)}),u(e),g(e),n(!0),r(!1)}),function(){c.cancel("Cancelling in cleanup")}},[]),{data:w,setData:o,loadingDone:f,isLoading:p}},D=()=>{const[d,a]=s.exports.useState(null),[u,i]=s.exports.useState(!1),[g,l]=s.exports.useState(!1);return{data:d,setData:a,loadingDone:u,isLoading:g,callback:function(o,f){const{onComplete:n=t=>{},success:p=t=>{},error:r=t=>{},...c}=o;let e=x.CancelToken.source();return i(!1),l(!0),window.api(c).then(t=>{m(t),n(t),p(t),a(f?t.data[f]:t.data),i(!0),l(!1)}).catch(t=>{window.Notify({status:"error",message:window.handleError(t)}),n(t),r(t),i(!0),l(!1)}),function(){e.cancel("Cancelling in cleanup")}}}};export{k as a,D as u};
